## 对Redis List实现队列的进一步拓展

Redis 的 list 可以用来作为**异步消息队列**,使用  **rpush-lpop  lpush-rpop** 来操作进出队列

同时它也支持**多个生产者消费者**并发地进出队列，每个消费者拿到的都是列表中不同的的元素



- 那么 Redis 是怎么解决队列空的时候，消费者无限空 pop 造成的性能上消耗过大的问题的呢？

  - 直接 sleep（虽然减少了性能上的消耗，但是也导致了消息的延迟）

  - 阻塞读（blpop/brpop b-blocking阻塞）【在队列中没有数据的时候，会立刻进入休眠状态，一旦有数据到来，则会立刻醒来。消息的延迟几乎为零】

    关于**阻塞读需要注意**的：可能线程一直阻塞在哪里的时候， Redis 客户端就变成了空闲连接，闲置久的话，服务器一般就会主动断开连接了

